# 左侧潜力牛股筛选优化执行方案

## 📊 诊断结果总结

**测试数据**: 100只股票，114,631个窗口
**找到样本**: 39个（在测试中）

### 各条件通过率：
1. **条件1（未来45天涨幅>50%）**: 2.40% ⚠️ **最严格瓶颈**
2. **条件2（过去60天涨幅<20%）**: 85.78% ✅ 宽松
3. **条件3（RSI<70）**: 93.53% ✅ 很宽松
4. **条件4（量比1.5-3.0）**: 5.14% ⚠️ 较严格
5. **条件5（至少2个预转信号）**: 15.41% ⚠️ 较严格

---

## 🎯 优化方案（方案A：保守优化）

根据诊断结果，采用**保守优化**策略：

### 1. 降低条件1阈值（最紧急）
- **当前**: 50%
- **优化后**: 40%
- **预期**: 通过率从2.40%提升到5-8%

### 2. 放宽条件4范围
- **当前**: 1.5-3.0
- **优化后**: 1.2-4.0
- **预期**: 通过率从5.14%提升到10-15%

### 3. 保持其他条件不变
- 条件2: 保持20%（已经很宽松）
- 条件3: 保持70%（已经很宽松）
- 条件5: 保持2个信号（先不降低，看效果）

---

## 📋 执行步骤

### 步骤1：修改代码，支持从配置读取参数
- 修改`LeftPositiveSampleScreener`，接收配置参数
- 修改筛选条件，使用配置中的阈值

### 步骤2：更新配置文件
- 修改`config/settings.yaml`
- 更新阈值：50% → 40%，1.5-3.0 → 1.2-4.0

### 步骤3：重新运行筛选
- 运行`prepare_left_breakout_samples.py`
- 查看样本数量和质量

---

## 📈 预期效果

### 理论计算：
- 条件1通过率: 2.40% → 假设6%（降低到40%后）
- 条件4通过率: 5.14% → 假设12%（放宽到1.2-4.0后）
- 其他条件保持不变

**优化前理论通过率**:
```
2.40% × 85.78% × 93.53% × 5.14% × 15.41% ≈ 0.015%
预期样本: 114,631 × 0.015% ≈ 17个
```

**优化后理论通过率**:
```
6% × 85.78% × 93.53% × 12% × 15.41% ≈ 0.089%
预期样本: 114,631 × 0.089% ≈ 102个
```

**实际预期**: 50-150个样本（考虑条件相关性）

---

## ✅ 执行确认

请确认是否执行此优化方案？

