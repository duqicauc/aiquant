# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•èŒè´£åˆ’åˆ†

### âœ… æ­£ç¡®çš„ç»“æ„

```
aiquant/
â”œâ”€â”€ src/              # æ ¸å¿ƒæºä»£ç ï¼ˆ39ä¸ªPythonæ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ data/        # æ•°æ®ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ strategy/    # ç­–ç•¥æ¨¡å—
â”‚   â”œâ”€â”€ models/      # æ¨¡å‹æ¨¡å—
â”‚   â”œâ”€â”€ utils/       # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ scripts/          # å¯æ‰§è¡Œè„šæœ¬ï¼ˆ27ä¸ªPythonè„šæœ¬ï¼‰
â”‚   â”œâ”€â”€ score_current_stocks.py      # å¯¼å…¥ src æ¨¡å—
â”‚   â”œâ”€â”€ train_xgboost_timeseries.py  # å¯¼å…¥ src æ¨¡å—
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ data/             # æ•°æ®æ–‡ä»¶ï¼ˆ0ä¸ªPythonæ–‡ä»¶ï¼Œåªæœ‰æ•°æ®ï¼‰
â”‚   â”œâ”€â”€ training/    # è®­ç»ƒæ•°æ®ï¼ˆCSVã€JSONï¼‰
â”‚   â”œâ”€â”€ prediction/  # é¢„æµ‹æ•°æ®ï¼ˆCSVã€JSONã€TXTï¼‰
â”‚   â””â”€â”€ cache/       # ç¼“å­˜æ•°æ®ï¼ˆDBï¼‰
â”‚
â””â”€â”€ tests/            # æµ‹è¯•ä»£ç ï¼ˆå¾…è¡¥å……ï¼‰
```

## ğŸ” è¯¦ç»†è¯´æ˜

### 1. `src/` ç›®å½• - æ ¸å¿ƒæºä»£ç 

**ä½œç”¨**: å­˜æ”¾å¯å¤ç”¨çš„æ ¸å¿ƒæ¨¡å—ï¼Œè¢« `scripts/` ä¸­çš„è„šæœ¬å¯¼å…¥ä½¿ç”¨

**åŒ…å«æ¨¡å—**:
- `src/data/` - æ•°æ®ç®¡ç†ï¼ˆDataManagerã€Fetcherã€Cacheç­‰ï¼‰
- `src/strategy/` - ç­–ç•¥æ¨¡å—ï¼ˆç­›é€‰å™¨ã€è´¢åŠ¡è¿‡æ»¤ç­‰ï¼‰
- `src/models/` - æ¨¡å‹ç›¸å…³ï¼ˆè¯„ä¼°ã€é¢„æµ‹ç­‰ï¼‰
- `src/utils/` - å·¥å…·å‡½æ•°ï¼ˆæ—¥å¿—ã€æ—¥æœŸã€é™æµç­‰ï¼‰
- `src/analysis/` - åˆ†ææ¨¡å—ï¼ˆå¸‚åœºåˆ†æã€å¥åº·æ£€æŸ¥ç­‰ï¼‰
- `src/backtest/` - å›æµ‹æ¨¡å—
- `src/visualization/` - å¯è§†åŒ–æ¨¡å—

**ä½¿ç”¨æ–¹å¼**:
```python
# scripts/score_current_stocks.py
from src.data.data_manager import DataManager
from src.strategy.screening.financial_filter import FinancialFilter
from src.utils.logger import log
```

**æ–‡ä»¶æ•°é‡**: 39ä¸ªPythonæ–‡ä»¶

### 2. `scripts/` ç›®å½• - å¯æ‰§è¡Œè„šæœ¬

**ä½œç”¨**: å­˜æ”¾å¯æ‰§è¡Œçš„å…¥å£è„šæœ¬ï¼Œå¯¼å…¥ `src/` æ¨¡å—å®Œæˆå…·ä½“ä»»åŠ¡

**è„šæœ¬ç±»å‹**:
- **è®­ç»ƒè„šæœ¬**: `prepare_positive_samples.py`, `train_xgboost_timeseries.py`
- **é¢„æµ‹è„šæœ¬**: `score_current_stocks.py`, `analyze_prediction_accuracy.py`
- **å·¥å…·è„šæœ¬**: `check_sample_quality.py`, `visualize_sample_comparison.py`

**ç‰¹ç‚¹**:
- å¯ä»¥ç›´æ¥è¿è¡Œ: `python scripts/score_current_stocks.py`
- å¯¼å…¥srcæ¨¡å—: `from src.data.data_manager import DataManager`
- å¤„ç†å…·ä½“ä¸šåŠ¡é€»è¾‘

**æ–‡ä»¶æ•°é‡**: 27ä¸ªPythonè„šæœ¬

### 3. `data/` ç›®å½• - æ•°æ®æ–‡ä»¶

**ä½œç”¨**: åªå­˜æ”¾æ•°æ®æ–‡ä»¶ï¼Œä¸åŒ…å«ä»»ä½•ä»£ç 

**æ•°æ®ç±»å‹**:
- **è®­ç»ƒæ•°æ®**: CSVæ ·æœ¬ã€JSONç»Ÿè®¡ã€æ¨¡å‹æ–‡ä»¶
- **é¢„æµ‹æ•°æ®**: CSVç»“æœã€TXTæŠ¥å‘Šã€JSONå…ƒæ•°æ®
- **ç¼“å­˜æ•°æ®**: SQLiteæ•°æ®åº“

**æ–‡ä»¶ç±»å‹**: CSVã€JSONã€TXTã€DBã€PNGã€HTML

**ä»£ç æ–‡ä»¶**: 0ä¸ªï¼ˆæ­£ç¡®ï¼ï¼‰

### 4. `tests/` ç›®å½• - æµ‹è¯•ä»£ç 

**å½“å‰çŠ¶æ€**: åŸºæœ¬ä¸ºç©ºï¼Œåªæœ‰ `__init__.py`

**åº”è¯¥åŒ…å«**:
- å•å…ƒæµ‹è¯•ï¼ˆæµ‹è¯•srcæ¨¡å—ï¼‰
- é›†æˆæµ‹è¯•ï¼ˆæµ‹è¯•scriptsè„šæœ¬ï¼‰
- æ•°æ®è´¨é‡æµ‹è¯•

**å¾…è¡¥å……**: éœ€è¦æ·»åŠ æµ‹è¯•ä»£ç 

## ğŸ“Š ä»£ç åˆ†å¸ƒç»Ÿè®¡

| ç›®å½• | Pythonæ–‡ä»¶æ•° | è¯´æ˜ |
|------|-------------|------|
| `src/` | 39 | æ ¸å¿ƒæºä»£ç æ¨¡å— |
| `scripts/` | 27 | å¯æ‰§è¡Œè„šæœ¬ |
| `data/` | 0 | åªæœ‰æ•°æ®æ–‡ä»¶ âœ… |
| `tests/` | 1 | å¾…è¡¥å……æµ‹è¯•ä»£ç  |

## âœ… ç»“è®º

**å½“å‰ç»“æ„æ˜¯åˆç†çš„**ï¼š

1. âœ… `data/` ç›®å½•ä¸‹æ²¡æœ‰ä»£ç ï¼Œåªæœ‰æ•°æ®æ–‡ä»¶
2. âœ… `src/` ç›®å½•åŒ…å«æ ¸å¿ƒæºä»£ç ï¼Œè¢«scriptså¯¼å…¥ä½¿ç”¨
3. âœ… `scripts/` ç›®å½•åŒ…å«å¯æ‰§è¡Œè„šæœ¬ï¼Œæ˜¯é¡¹ç›®å…¥å£
4. âš ï¸ `tests/` ç›®å½•åŸºæœ¬ä¸ºç©ºï¼Œéœ€è¦è¡¥å……æµ‹è¯•ä»£ç 

## ğŸ”„ ä»£ç è°ƒç”¨å…³ç³»

```
scripts/score_current_stocks.py
    â†“ å¯¼å…¥
src/data/data_manager.py
src/strategy/screening/financial_filter.py
src/utils/logger.py
    â†“ ä½¿ç”¨
data/training/models/  (è¯»å–æ¨¡å‹)
data/cache/quant_data.db  (è¯»å–ç¼“å­˜)
    â†“ è¾“å‡º
data/prediction/results/  (ä¿å­˜ç»“æœ)
```

## ğŸ’¡ å»ºè®®

1. **ä¿æŒå½“å‰ç»“æ„** - ä»£ç å’Œæ•°æ®åˆ†ç¦»æ˜¯æ­£ç¡®çš„
2. **è¡¥å……æµ‹è¯•ä»£ç ** - åœ¨ `tests/` ç›®å½•æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
3. **æ–‡æ¡£è¯´æ˜** - åœ¨READMEä¸­æ˜ç¡®è¯´æ˜ç›®å½•èŒè´£

