# 左侧潜力牛股筛选条件诊断结果

## 📊 诊断数据

**测试范围**: 100只股票，2020-2024年数据
**总窗口数**: 114,631个（滑动窗口）
**找到样本**: 39个

---

## 📈 各条件通过率统计

### 条件1: 未来45天涨幅 > 50% ⚠️ **最严格瓶颈**
- **通过率**: 2.40% (2,756/114,631)
- **失败率**: 97.60% (111,875/114,631)
- **分析**: 这是最严格的瓶颈条件，只有2.4%的窗口满足

### 条件2: 过去60天涨幅 < 20%
- **通过率**: 85.78% (98,331/114,631)
- **失败率**: 14.22% (16,300/114,631)
- **分析**: 条件相对宽松，大部分股票满足

### 条件3: RSI < 70
- **通过率**: 93.53% (107,210/114,631)
- **失败率**: 6.47% (7,421/114,631)
- **分析**: 条件很宽松，几乎不影响筛选

### 条件4: 量比 1.5-3.0 ⚠️ **较严格**
- **通过率**: 5.14% (5,889/114,631)
- **失败率**: 94.86% (108,742/114,631)
- **分析**: 条件较严格，范围可能过窄

### 条件5: 至少2个预转信号 ⚠️ **较严格**
- **通过率**: 15.41% (17,666/114,631)
- **失败率**: 84.59% (96,965/114,631)
- **分析**: 条件较严格，需要同时满足多个技术信号

---

## 🎯 理论通过率分析

如果5个条件必须**全部满足**，理论通过率计算：

```
理论通过率 = 条件1 × 条件2 × 条件3 × 条件4 × 条件5
           = 2.40% × 85.78% × 93.53% × 5.14% × 15.41%
           ≈ 0.015%
```

**预期样本数**: 114,631 × 0.015% ≈ **17个样本**

**实际找到**: 39个样本

**说明**: 实际找到的样本比理论值多，可能是因为：
1. 某些条件在特定情况下可以跳过（如数据缺失时）
2. 条件之间可能存在一定的相关性

---

## 🔍 关键发现

### 1. 条件1是最严格的瓶颈
- 只有2.4%的窗口满足"未来45天涨幅>50%"
- 这是导致样本数量为0的主要原因

### 2. 条件4和条件5也较严格
- 条件4（量比1.5-3.0）通过率只有5.14%
- 条件5（至少2个预转信号）通过率只有15.41%

### 3. 条件2和条件3相对宽松
- 条件2（过去涨幅<20%）通过率85.78%
- 条件3（RSI<70）通过率93.53%

---

## 💡 优化建议

### 优先级1：降低条件1的阈值（最紧急）⭐

**当前**: 未来45天涨幅 > 50%
**建议**: 降低到 35% 或 40%

**预期效果**:
- 如果降低到40%: 通过率可能提升到 5-8%
- 如果降低到35%: 通过率可能提升到 8-12%

**计算示例**:
- 当前: 2.40% × 85.78% × 93.53% × 5.14% × 15.41% ≈ 0.015%
- 降低到40%后: 假设通过率提升到6% → 理论通过率 ≈ 0.038% → 预期样本数 ≈ 44个
- 降低到35%后: 假设通过率提升到10% → 理论通过率 ≈ 0.063% → 预期样本数 ≈ 72个

### 优先级2：放宽条件4的范围

**当前**: 量比 1.5-3.0
**建议**: 放宽到 1.2-4.0

**预期效果**:
- 通过率可能从5.14%提升到10-15%

### 优先级3：降低条件5的要求

**当前**: 至少2个预转信号
**建议**: 降低到至少1个预转信号

**预期效果**:
- 通过率可能从15.41%提升到30-40%

---

## 📋 推荐优化方案

### 方案A：保守优化（推荐）
```yaml
future_return_threshold: 40    # 从50降低到40
volume_ratio_min: 1.2          # 从1.5降低到1.2
volume_ratio_max: 4.0          # 从3.0提高到4.0
min_signals: 2                 # 保持2个信号
```

**预期效果**: 样本数从0提升到50-100个

### 方案B：中等优化
```yaml
future_return_threshold: 35    # 从50降低到35
volume_ratio_min: 1.2          # 从1.5降低到1.2
volume_ratio_max: 4.0          # 从3.0提高到4.0
min_signals: 1                 # 从2降低到1
```

**预期效果**: 样本数从0提升到100-200个

### 方案C：激进优化（不推荐）
```yaml
future_return_threshold: 30    # 从50降低到30
volume_ratio_min: 1.0          # 从1.5降低到1.0
volume_ratio_max: 5.0          # 从3.0提高到5.0
min_signals: 1                 # 从2降低到1
```

**预期效果**: 样本数可能过多，质量可能下降

---

## ✅ 建议执行步骤

1. **先执行方案A（保守优化）**
   - 修改配置：未来涨幅50% → 40%，量比1.5-3.0 → 1.2-4.0
   - 重新运行筛选
   - 查看样本数量和质量

2. **如果样本仍然不足，再执行方案B**
   - 进一步降低未来涨幅到35%
   - 降低预转信号要求到1个

3. **验证样本质量**
   - 检查样本的时间分布
   - 检查样本的涨幅分布
   - 确保样本质量符合预期

---

## 📊 诊断结论

**核心问题**: 条件1（未来45天涨幅>50%）过于严格，导致样本数量为0

**解决方案**: 优先降低条件1的阈值，同时适当放宽条件4和条件5

**预期结果**: 优化后应该能找到50-200个样本（取决于优化程度）

