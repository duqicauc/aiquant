# æµ‹è¯•ç”¨ä¾‹å®Œå–„è¿›åº¦

## ğŸ“Š æ€»ä½“è¿›åº¦

- **æ€»æµ‹è¯•æ–‡ä»¶æ•°**: 30+
- **æ€»æµ‹è¯•ç”¨ä¾‹æ•°**: ~150+
- **è¦†ç›–ç‡ç›®æ ‡**: 85%

## âœ… æœ€æ–°å®Œæˆçš„æµ‹è¯•æ¨¡å—

### 1. Left Breakoutæ¨¡å‹ç»„ä»¶æµ‹è¯•ï¼ˆæ–°å¢ï¼‰

#### `tests/models/test_left_feature_engineering.py` - **15ä¸ªæµ‹è¯•ç”¨ä¾‹**
- âœ… ç‰¹å¾å·¥ç¨‹å™¨åˆå§‹åŒ–
- âœ… ç©ºæ•°æ®å¤„ç†
- âœ… åŸºæœ¬ç‰¹å¾æå–
- âœ… æ•°æ®ä¸è¶³å¤„ç†
- âœ… å•æ ·æœ¬ç‰¹å¾æå–
- âœ… åº•éƒ¨éœ‡è¡ç‰¹å¾
- âœ… é¢„è½¬ä¿¡å·ç‰¹å¾
- âœ… é‡ä»·é…åˆç‰¹å¾
- âœ… æŠ€æœ¯æŒ‡æ ‡ç‰¹å¾
- âœ… ååº¦å’Œå³°åº¦è®¡ç®—
- âœ… å‡çº¿æ”¶æ•›è®¡ç®—
- âœ… å¸ƒæ—å¸¦æ”¶ç¼©è®¡ç®—
- âœ… å¤šæ ·æœ¬ç‰¹å¾æå–

#### `tests/models/test_left_positive_screener.py` - **12ä¸ªæµ‹è¯•ç”¨ä¾‹**
- âœ… ç­›é€‰å™¨åˆå§‹åŒ–
- âœ… é»˜è®¤é…ç½®æµ‹è¯•
- âœ… è·å–æœ‰æ•ˆè‚¡ç¥¨åˆ—è¡¨
- âœ… å•è‚¡ç¥¨ç­›é€‰ç»“æ„
- âœ… æ— æ•°æ®å¤„ç†
- âœ… æœªæ¥æ”¶ç›Šæ£€æŸ¥
- âœ… è¿‡å»æ”¶ç›Šæ£€æŸ¥
- âœ… RSIæ¡ä»¶æ£€æŸ¥
- âœ… é‡æ¯”æ¡ä»¶æ£€æŸ¥
- âœ… ç­›é€‰æ‰€æœ‰è‚¡ç¥¨ç»“æ„
- âœ… ç©ºæ—¥æœŸèŒƒå›´å¤„ç†

#### `tests/models/test_left_negative_screener.py` - **8ä¸ªæµ‹è¯•ç”¨ä¾‹**
- âœ… ç­›é€‰å™¨åˆå§‹åŒ–
- âœ… æ­£æ ·æœ¬ä¸ºç©ºå¤„ç†
- âœ… è´Ÿæ ·æœ¬ç­›é€‰ç»“æ„
- âœ… æ­£æ ·æœ¬ç‰¹å¾åˆ†æ
- âœ… è·å–å€™é€‰è‚¡ç¥¨
- âœ… å•è‚¡ç¥¨è´Ÿæ ·æœ¬ç­›é€‰
- âœ… æ— æ•°æ®å¤„ç†
- âœ… è´Ÿæ ·æœ¬æ¡ä»¶æ£€æŸ¥

#### `tests/models/test_left_predictor.py` - **11ä¸ªæµ‹è¯•ç”¨ä¾‹**
- âœ… é¢„æµ‹å™¨åˆå§‹åŒ–
- âœ… è·å–å¸‚åœºè‚¡ç¥¨åˆ—è¡¨
- âœ… ç©ºè‚¡ç¥¨åˆ—è¡¨å¤„ç†
- âœ… æå–è‚¡ç¥¨ç‰¹å¾ç»“æ„
- âœ… æ— æ•°æ®å¤„ç†
- âœ… é¢„æµ‹å½“å‰å¸‚åœºç»“æ„
- âœ… è‚¡ç¥¨åˆ—è¡¨ä¸ºç©ºå¤„ç†
- âœ… é™åˆ¶æœ€å¤§è‚¡ç¥¨æ•°
- âœ… æ— ç‰¹å¾æå–å¤„ç†
- âœ… ä½¿ç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹
- âœ… æ— æ¨¡å‹å¤„ç†

### 2. å¯è§†åŒ–æ¨¡å—æµ‹è¯•ï¼ˆæ–°å¢ï¼‰

#### `tests/visualization/test_stock_chart.py` - **8ä¸ªæµ‹è¯•ç”¨ä¾‹**
- âœ… å¯è§†åŒ–å™¨åˆå§‹åŒ–
- âœ… ç©ºæ•°æ®åˆ›å»ºå›¾è¡¨
- âœ… åˆ›å»ºç»¼åˆå›¾è¡¨ç»“æ„
- âœ… è¯†åˆ«ä¹°å–ç‚¹
- âœ… è®¡ç®—MACDåºåˆ—
- âœ… è®¡ç®—RSIåºåˆ—
- âœ… åˆ›å»ºæŒ‡æ ‡çƒ­åŠ›å›¾
- âœ… è·å–é¢œè‰²æ˜ å°„

### 3. å›æµ‹æ¨¡å—æµ‹è¯•ï¼ˆæ–°å¢ï¼‰

#### `tests/backtest/test_data_feed.py` - **8ä¸ªæµ‹è¯•ç”¨ä¾‹**
- âœ… æ•°æ®Feedç®¡ç†å™¨åˆå§‹åŒ–
- âœ… æˆåŠŸè·å–æ•°æ®Feed
- âœ… ç©ºæ•°æ®å¤„ç†
- âœ… è·å–å¤šä¸ªæ•°æ®Feed
- âœ… éƒ¨åˆ†æˆåŠŸå¤„ç†
- âœ… æ•°æ®é¢„å¤„ç†
- âœ… TushareDataå‚æ•°é…ç½®

## ğŸ“‹ å·²å®Œæˆçš„æµ‹è¯•æ¨¡å—æ±‡æ€»

### å·¥å…·æ¨¡å— âœ…
- `tests/utils/test_rate_limiter.py` - 15ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/utils/test_date_utils.py` - 5ä¸ªæµ‹è¯•ç”¨ä¾‹

### æ•°æ®æ¨¡å— âœ…
- `tests/data/test_data_manager.py` - 19ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/data/test_cache_manager.py` - 20+ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/data/test_tushare_fetcher.py` - 20ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/data/test_tushare_fetcher_real.py` - 6ä¸ªçœŸå®APIæµ‹è¯•
- `tests/data/test_base_fetcher.py` - 5ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/data/test_enhanced_cache_manager.py` - 7ä¸ªæµ‹è¯•ç”¨ä¾‹

### ç­–ç•¥æ¨¡å— âœ…
- `tests/strategy/test_financial_filter.py` - 10ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/strategy/test_positive_screener.py` - 10ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/strategy/test_negative_screener_v2.py` - 5ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/strategy/test_screening_real.py` - 2ä¸ªçœŸå®æ•°æ®æµ‹è¯•

### æ¨¡å‹æ¨¡å— âœ…
- `tests/models/test_model_registry.py` - 10ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆ97%è¦†ç›–ç‡ï¼‰
- `tests/models/test_left_breakout_model.py` - 4ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/models/test_left_feature_engineering.py` - **15ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ–°å¢ï¼‰**
- `tests/models/test_left_positive_screener.py` - **12ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ–°å¢ï¼‰**
- `tests/models/test_left_negative_screener.py` - **8ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ–°å¢ï¼‰**
- `tests/models/test_left_predictor.py` - **11ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ–°å¢ï¼‰**

### åˆ†ææ¨¡å— âœ…
- `tests/analysis/test_market_analyzer.py` - 3ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/analysis/test_stock_health_checker.py` - 1ä¸ªæµ‹è¯•ç”¨ä¾‹
- `tests/analysis/test_market_analyzer_real.py` - çœŸå®æ•°æ®æµ‹è¯•
- `tests/analysis/test_stock_health_checker_real.py` - çœŸå®æ•°æ®æµ‹è¯•

### å¯è§†åŒ–æ¨¡å— âœ…ï¼ˆæ–°å¢ï¼‰
- `tests/visualization/test_stock_chart.py` - **8ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ–°å¢ï¼‰**

### å›æµ‹æ¨¡å— âœ…ï¼ˆæ–°å¢ï¼‰
- `tests/backtest/test_data_feed.py` - **8ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ–°å¢ï¼‰**

### é›†æˆæµ‹è¯• âœ…
- `tests/integration/test_data_flow.py` - 2ä¸ªæµ‹è¯•ç”¨ä¾‹

## ğŸ“ˆ æµ‹è¯•ç»Ÿè®¡

- **æ–°å¢æµ‹è¯•æ–‡ä»¶**: 6ä¸ª
- **æ–°å¢æµ‹è¯•ç”¨ä¾‹**: 62ä¸ª
- **æ€»æµ‹è¯•æ–‡ä»¶æ•°**: 30+
- **æ€»æµ‹è¯•ç”¨ä¾‹æ•°**: ~150+

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### å¾…è¡¥å……çš„æµ‹è¯•æ¨¡å—

1. **Left Validationæ¨¡å—**
   - `tests/models/test_left_validation.py` - æ¨¡å‹éªŒè¯æµ‹è¯•

2. **Backtestç­–ç•¥æ¨¡å—**
   - `tests/backtest/test_ml_strategy.py` - MLç­–ç•¥æµ‹è¯•

3. **Processingæ¨¡å—**
   - `tests/processing/test_factors.py` - å› å­è®¡ç®—æµ‹è¯•
   - `tests/processing/test_indicators.py` - æŒ‡æ ‡è®¡ç®—æµ‹è¯•

4. **æ›´å¤šé›†æˆæµ‹è¯•**
   - `tests/integration/test_model_training.py` - æ¨¡å‹è®­ç»ƒæµç¨‹æµ‹è¯•
   - `tests/integration/test_prediction_pipeline.py` - é¢„æµ‹æµç¨‹æµ‹è¯•

## ğŸš€ è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆè·³è¿‡çœŸå®APIï¼‰
pytest -m "not api and not slow"

# è¿è¡Œæ–°å¢çš„æ¨¡å‹æµ‹è¯•
pytest tests/models/test_left_*.py -v

# è¿è¡Œå¯è§†åŒ–æµ‹è¯•
pytest tests/visualization/ -v

# è¿è¡Œå›æµ‹æµ‹è¯•
pytest tests/backtest/ -v

# æŸ¥çœ‹è¦†ç›–ç‡
pytest --cov=src --cov-report=html --cov-report=term-missing
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **Mockæ•°æ®**: å¤§éƒ¨åˆ†æµ‹è¯•ä½¿ç”¨Mockæ•°æ®ï¼Œé¿å…ä¾èµ–å¤–éƒ¨API
2. **çœŸå®æ•°æ®æµ‹è¯•**: æ ‡è®°ä¸º`@pytest.mark.api`å’Œ`@pytest.mark.slow`çš„æµ‹è¯•éœ€è¦çœŸå®API
3. **æµ‹è¯•ç‹¬ç«‹æ€§**: æ¯ä¸ªæµ‹è¯•éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå¯ä»¥å•ç‹¬è¿è¡Œ
4. **è¦†ç›–ç‡**: å½“å‰é‡ç‚¹è¦†ç›–æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œé€æ­¥æå‡æ•´ä½“è¦†ç›–ç‡

